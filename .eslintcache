[{"/Users/fukudanaoya/chat-app/src/index.js":"1","/Users/fukudanaoya/chat-app/src/pages/Login.js":"2","/Users/fukudanaoya/chat-app/src/pages/SignUp.js":"3","/Users/fukudanaoya/chat-app/src/App.js":"4","/Users/fukudanaoya/chat-app/src/config/firebase.js":"5","/Users/fukudanaoya/chat-app/src/AuthService.js":"6","/Users/fukudanaoya/chat-app/src/LoggedInRoute.js":"7","/Users/fukudanaoya/chat-app/src/pages/Room.js":"8","/Users/fukudanaoya/chat-app/src/pages/List.js":"9","/Users/fukudanaoya/chat-app/src/style.js":"10","/Users/fukudanaoya/chat-app/src/pages/Config.js":"11"},{"size":141,"mtime":1611971487303,"results":"12","hashOfConfig":"13"},{"size":1825,"mtime":1612011028216,"results":"14","hashOfConfig":"13"},{"size":2118,"mtime":1613231719726,"results":"15","hashOfConfig":"13"},{"size":855,"mtime":1613231215515,"results":"16","hashOfConfig":"13"},{"size":873,"mtime":1619600699945,"results":"17","hashOfConfig":"13"},{"size":565,"mtime":1611990275040,"results":"18","hashOfConfig":"13"},{"size":575,"mtime":1613232689650,"results":"19","hashOfConfig":"13"},{"size":3660,"mtime":1618066522266,"results":"20","hashOfConfig":"13"},{"size":621,"mtime":1616576906198,"results":"21","hashOfConfig":"13"},{"size":566,"mtime":1613572319370,"results":"22","hashOfConfig":"13"},{"size":1162,"mtime":1613147091121,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"2h1wwe",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/fukudanaoya/chat-app/src/index.js",[],"/Users/fukudanaoya/chat-app/src/pages/Login.js",[],"/Users/fukudanaoya/chat-app/src/pages/SignUp.js",[],"/Users/fukudanaoya/chat-app/src/App.js",["48"],"import react from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n} from 'react-router-dom';\n\nimport Login from './pages/Login';\nimport SignUp from './pages/SignUp';\nimport Room from './pages/Room';\nimport Config from './pages/Config'\nimport { AuthProvider } from './AuthService';\nimport LoggedInRoute from './LoggedInRoute';\nimport './style.css';\n\n\n\n\n\nconst App = () => {\n\n    return (\n        <AuthProvider>\n            <Router>\n                <Switch>\n                    <LoggedInRoute exact path='/' component={Room} />\n                    <Route exact path='/login' component={Login} />\n                    <Route exact path='/signup' component={SignUp} />\n                    <Route exact path='/config' component={Config} />\n                </Switch>\n            </Router>\n        </AuthProvider>\n    )\n}\n\nexport default App;","/Users/fukudanaoya/chat-app/src/config/firebase.js",[],"/Users/fukudanaoya/chat-app/src/AuthService.js",[],"/Users/fukudanaoya/chat-app/src/LoggedInRoute.js",[],"/Users/fukudanaoya/chat-app/src/pages/Room.js",["49"],"import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { AuthContext } from '../AuthService';\nimport firebase from '../config/firebase';\nimport {\n    UlStyle,\n    DivStyle,\n    H1Style\n} from '../style'\n\nimport List from './List';\n\nimport Push from 'push.js';\n\n\n\nconst Room = ({ history }) => {\n    const [messages, setMessages] = useState([]);\n    console.log(messages)\n    const [value, setValue] = useState('');\n\n    const inputEl = useRef(null)\n\n    const messageEndRef = useRef(null);\n\n    const scrollToBottom = () => {\n        messageEndRef.current.scrollIntoView({ behavior: \"smooth\" })\n    }\n\n    // const formatTime = messages && `${messages.timestamp.getFullYear()}/${messages.timestamp.getMonth() + 1}/${messages.timestamp.getDate()} ${messages.timestamp.getHours()}:${messages.timestamp.getMinutes()}:${messages.timestamp.getSeconds()}`\n\n\n    useEffect(scrollToBottom, [messages]);\n\n    useEffect(() => {\n        firebase.firestore()\n            .collection('messages')\n            .orderBy('timestamp', 'desc')\n            .limit(50)\n            .onSnapshot((snapshot) => {\n                const messages = snapshot.docs.map(doc => {\n\n                    return {\n                        userId: doc.id,\n                        user: doc.data().user,\n                        content: doc.data().content,\n                        timestamp: doc.data().timestamp.toDate()\n                    }\n                })\n                setMessages(messages);\n            })\n    }, [])\n\n\n\n    // console.log(messages[5].timestamp);\n\n    const user = useContext(AuthContext);\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        firebase.firestore().collection('messages').add({\n            content: value,\n            user: user.displayName,\n            timestamp: firebase.firestore.Timestamp.now()\n        })\n        setValue('')\n    }\n    // console.log(user)\n\n    // console.log(messages)\n    // console.log({ value })\n\n\n\n    return (\n        <>\n            <DivStyle>\n                <H1Style>Room</H1Style>\n                <div style={{ height: '80vh', overflow: 'auto' }} >\n                    <UlStyle>\n                        < div style={{ float: \"left\", clear: \"both\" }}\n                            ref={messageEndRef} />\n                        {\n                            messages &&\n                            messages.map(message => {\n                                // console.log(message.user, message.content)\n                                return message.content.replace(/\\s+/g, \"\") && <List key={message.userId} content={message.content} user={message.user} timestamp={`${message.timestamp.getFullYear()}/${message.timestamp.getMonth() + 1}/${message.timestamp.getDate()} ${message.timestamp.getHours()}:${message.timestamp.getMinutes()}:${message.timestamp.getSeconds()}`} />\n                            })\n                        }\n                    </UlStyle>\n                </div>\n\n                <form onSubmit={handleSubmit}>\n                    <input\n                        type=\"text\"\n                        value={value}\n                        onChange={e => setValue(e.target.value)}\n                        autoFocus\n                        ref={inputEl}\n                    />\n                    <button type=\"submit\"\n                        onClick={() => inputEl.current.focus()}\n                    >送信</button>\n                </form>\n                <button onClick={() => firebase.auth().signOut()}>Logout</button>\n                <button onClick={() => history.push('/config')}>設定</button>\n            </DivStyle>\n        </>\n    )\n}\n\nexport default Room;\n","/Users/fukudanaoya/chat-app/src/pages/List.js",[],"/Users/fukudanaoya/chat-app/src/style.js",[],"/Users/fukudanaoya/chat-app/src/pages/Config.js",[],{"ruleId":"50","severity":1,"message":"51","line":1,"column":8,"nodeType":"52","messageId":"53","endLine":1,"endColumn":13},{"ruleId":"50","severity":1,"message":"54","line":12,"column":8,"nodeType":"52","messageId":"53","endLine":12,"endColumn":12},"no-unused-vars","'react' is defined but never used.","Identifier","unusedVar","'Push' is defined but never used."]